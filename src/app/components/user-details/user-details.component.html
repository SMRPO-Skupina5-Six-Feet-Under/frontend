<h3 class="user-details-title">User details</h3>


<div class="col-12 details-container">
  <div class="row">

    <!-- left -->
    <div class="col-6 form-group">
      <div class="row frm-item">
        <div class="col-4">
            <label for="username" class="col-form-label">Username</label>
        </div>
        <!-- <label for="username" class="col-sm-2 col-form-label">Username</label> -->
        <div class="col-8">
          <input [(ngModel)]="user.userName" type="text" class="form-control" id="username">
        </div>
      </div>
      <div class="row frm-item">
        <div class="col-4">
            <label for="firstName" class="col-form-label">First name</label>
        </div>
        <div class="col-8">
          <input [(ngModel)]="user.firstName" type="text" class="form-control" id="firstName">
        </div>
      </div>
      <div class="row frm-item">
        <div class="col-4">
            <label for="lastName" class="col-form-label">Last name</label>
        </div>
        <div class="col-8">
          <input [(ngModel)]="user.lastName" type="text" class="form-control" id="lastName">
        </div>
      </div>
    
    </div>

    <!-- right -->
    <div class="col-6 form-group">
      <div class="row frm-item">
        <div class="col-4">
            <label for="email" class="col-form-label">Email</label>
        </div>
        <div class="col-8">
          <input [(ngModel)]="user.email" type="text" class="form-control" id="email">
        </div>
      </div>

      <!-- <div class="row frm-item">
        <div class="col-4">
          <label class="form-check-label" for="isAdminCheckbox">
            Admin
          </label>
        </div>
        <div class="col-8">
          <input class="form-check-input" type="checkbox" [(ngModel)]="user.isAdmin" id="isAdminCheckbox">
        </div>
      </div> -->

      <div class="row frm-item">
        <div class="col-4">
          <label for="lastLogin" class="col-form-label">Last login</label>
        </div>
        <div class="col-8">
          <input disabled [value]="user.lastLogin | date :'dd.MM.yyyy HH:mm:ss' :'+0200' " type="text" class="form-control" id="lastLogin">
        </div>
      </div>

    </div>

    <div class="col-12">
      <div class="form-group row">
        <div class="col-12 save-button-container">
          <button (click)="saveUser()" type="submit" class="btn btn-outline-success">Save</button>
        </div>
      </div>
    </div>
  
    <div class="form-group row">
      <div class="col-sm-12">
        <div class="row">
          <div class="col-3">
            <!-- Button trigger Change password Modal -->
            <button type="button" class="btn btn-primary" 
            data-bs-toggle="modal" data-bs-target="#changePassModal"
            >Change Password</button>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="form-group">
      <div class="col-sm-12">
        <div class="row">
          <div class="col-3">
            <button type="button" 
              class="btn btn-outline-info" data-bs-toggle="modal" 
              data-bs-target="#revealPassModal"
              >Reveal password</button>
          </div>
        </div>
      </div>
    </div> -->


  </div>
</div>



<!-- Change password Modal -->
<div class="modal fade" 
    id="changePassModal" tabindex="-1" role="dialog" 
    aria-labelledby="changePassModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="changePassModalLabel">Change password</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="oldPassword">Current Password</label>
          <input [(ngModel)]="oldPassword" 
            type="password" 
            class="form-control"
            id="oldPassword" 
            placeholder="Enter current password"
            maxlength="128"
            >
        </div>
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input [(ngModel)]="newPassword" 
            type="password" 
            class="form-control"
            id="newPassword" 
            placeholder="Enter new password"
            maxlength="128"
            >
        </div>
        <div class="form-group">
          <label for="confirmNewPassword">Confirm new password</label>
          <input [(ngModel)]="newPassword2" 
            type="password" 
            class="form-control"
            id="confirmNewPassword" 
            placeholder="Confirm new password"
            maxlength="128"
            >
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" id="cancelPassChangeButton" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" (click)="changePassword()" class="btn btn-primary">Change password</button>
      </div>
    </div>
  </div>
</div>




<!-- Reveal Modal -->
<div class="modal fade" id="revealPassModal" tabindex="-1" aria-labelledby="revealPassModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="revealPassModalLabel">Password</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="col-12">
          <div class="row">
            <input disabled [ngModel]="user.password" type="text" class="form-control">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" data-bs-dismiss="modal" class="btn btn-outline-primary">Ok</button>
      </div>
    </div>
  </div>
</div>

